@page
@using SmartCampus.Web.Pages.Shared
@model SmartCampus.Web.Pages.Homework.EditModel
@{
    ViewData["Title"] = "Edit Homework";

    var pageHeader = new PageHeaderModel
    {
        Title = "Edit Homework",
        Subtitle = "Update homework details",
        IconClass = "fas fa-tasks",
        IconColor = "#ff9500",
        GradientStart = "rgba(255, 149, 0, 0.05)",
        GradientEnd = "rgba(52, 199, 89, 0.05)",
        BorderColor = "rgba(255, 149, 0, 0.1)"
    };
}

<partial name="_PageHeader" model="pageHeader" />


<div class="row">
    <div class="col-lg-8">
        <form method="post" class="needs-validation" novalidate>
            @Html.AntiForgeryToken()
            
            <div class="card border-0 mb-4" style="border-radius: 14px; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);">
                <div style="background: linear-gradient(135deg, #f5f5f7, #efefef); border-bottom: 1px solid #e5e5ea; padding: 18px 20px; border-radius: 14px 14px 0 0;">
                    <h5 style="margin: 0; font-weight: 700; display: flex; align-items: center; gap: 8px;">
                        <i class="fas fa-file-alt" style="color: #0066ff;"></i>Homework Details
                    </h5>
                </div>

                <div class="card-body" style="padding: 24px;">
                    
                    <input type="hidden" asp-for="Homework.Id" />

                    
                    <div class="mb-4">
                        <label asp-for="Homework.Title" class="form-label" style="font-weight: 600; color: #1d1d1f; margin-bottom: 8px;">
                            <i class="fas fa-heading me-1" style="color: #0066ff;"></i>Homework Title <span class="text-danger">*</span>
                        </label>
                        <input asp-for="Homework.Title" class="form-control" required style="border: 2px solid #e5e5ea; border-radius: 10px; padding: 10px 12px; font-size: 0.95rem;" />
                        <small class="form-text text-muted">Update the homework title if needed</small>
                        <span asp-validation-for="Homework.Title" class="text-danger small d-block mt-1"></span>
                    </div>

                    
                    <div class="row">
                        <div class="col-md-6 mb-4">
                            <label asp-for="Homework.GroupId" class="form-label" style="font-weight: 600; color: #1d1d1f; margin-bottom: 8px;">
                                <i class="fas fa-users me-1" style="color: #5e5ce6;"></i>Target Group <span class="text-danger">*</span>
                            </label>
                            <select asp-for="Homework.GroupId" class="form-select" required style="border: 2px solid #e5e5ea; border-radius: 10px; padding: 10px 12px; font-size: 0.95rem;">
                                <option value="">-- Select Group --</option>
                                @foreach (var group in Model.Groups)
                                {
                                    <option value="@group.Id" selected="@(group.Id == Model.Homework.GroupId)">@group.GroupName</option>
                                }
                            </select>
                            <small class="form-text text-muted">You can reassign to a different group</small>
                            <span asp-validation-for="Homework.GroupId" class="text-danger small d-block mt-1"></span>
                        </div>
                        <div class="col-md-6 mb-4">
                            <label asp-for="Homework.DueDate" class="form-label" style="font-weight: 600; color: #1d1d1f; margin-bottom: 8px;">
                                <i class="fas fa-calendar-check me-1" style="color: #0066ff;"></i>Due Date & Time <span class="text-danger">*</span>
                            </label>
                            <input asp-for="Homework.DueDate" class="form-control" type="datetime-local" required style="border: 2px solid #e5e5ea; border-radius: 10px; padding: 10px 12px; font-size: 0.95rem;" />
                            <small class="form-text text-muted">Update the deadline if needed</small>
                            <span asp-validation-for="Homework.DueDate" class="text-danger small d-block mt-1"></span>
                        </div>
                    </div>

                    
                    <div class="mb-4">
                        <label asp-for="Homework.Type" class="form-label" style="font-weight: 600; color: #1d1d1f; margin-bottom: 8px;">
                            <i class="fas fa-tag me-1" style="color: #5e5ce6;"></i>Homework Type
                        </label>
                        <select asp-for="Homework.Type" class="form-select" style="border: 2px solid #e5e5ea; border-radius: 10px; padding: 10px 12px; font-size: 0.95rem;">
                            <option value="">-- Select Type --</option>
                            <option value="Reading" selected="@(Model.Homework.Type == "Reading")">Reading Homework</option>
                            <option value="Essay" selected="@(Model.Homework.Type == "Essay")">Essay</option>
                            <option value="Project" selected="@(Model.Homework.Type == "Project")">Project</option>
                            <option value="Quiz" selected="@(Model.Homework.Type == "Quiz")">Quiz</option>
                            <option value="Presentation" selected="@(Model.Homework.Type == "Presentation")">Presentation</option>
                            <option value="Discussion" selected="@(Model.Homework.Type == "Discussion")">Discussion</option>
                            <option value="Problem Set" selected="@(Model.Homework.Type == "Problem Set")">Problem Set</option>
                        </select>
                        <small class="form-text text-muted">Update the homework type</small>
                    </div>

                    
                    <div class="mb-4">
                        <label asp-for="Homework.Description" class="form-label" style="font-weight: 600; color: #1d1d1f; margin-bottom: 8px;">
                            <i class="fas fa-align-left me-1" style="color: #0066ff;"></i>Instructions & Description
                        </label>
                        <textarea asp-for="Homework.Description" class="form-control" rows="7" style="border: 2px solid #e5e5ea; border-radius: 10px; padding: 12px; font-size: 0.95rem; font-family: inherit;"></textarea>
                        <small class="form-text text-muted">Update instructions or add clarifications for students</small>
                        <span asp-validation-for="Homework.Description" class="text-danger small d-block mt-1"></span>
                    </div>
                </div>

                
                <div style="background: #f9f9fb; border-top: 1px solid #e5e5ea; padding: 18px 20px; border-radius: 0 0 14px 14px; display: flex; gap: 10px; justify-content: flex-end; flex-wrap: wrap;">
                    <a asp-page="Index" class="btn" style="background: #f5f5f7; color: #1d1d1f; border: none; padding: 10px 18px; border-radius: 8px; text-decoration: none; font-weight: 500;">
                        <i class="fas fa-times me-1"></i>Cancel
                    </a>
                    <button type="submit" class="btn" style="background: linear-gradient(135deg, #0066ff, #0052cc); color: white; border: none; padding: 10px 24px; border-radius: 8px; font-weight: 500;">
                        <i class="fas fa-check-circle me-1"></i>Update Homework
                    </button>
                </div>
            </div>
        </form>
    </div>

    
    <div class="col-lg-4">
        <div class="card border-0" style="border-radius: 14px; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08); margin-bottom: 20px;">
            <div style="background: linear-gradient(135deg, #f5f5f7, #efefef); border-bottom: 1px solid #e5e5ea; padding: 18px 20px; border-radius: 14px 14px 0 0;">
                <h6 style="margin: 0; font-weight: 700; display: flex; align-items: center; gap: 8px;">
                    <i class="fas fa-info-circle" style="color: #0066ff;"></i>About Editing
                </h6>
            </div>
            <div class="card-body" style="padding: 18px;">
                <div style="margin-bottom: 14px;">
                    <small style="display: block; font-weight: 600; color: #1d1d1f; margin-bottom: 4px;">
                        <i class="fas fa-exclamation-circle me-1" style="color: #ff9500;"></i>Changes Affect All
                    </small>
                    <small style="color: #636366; line-height: 1.5;">Any updates you make will be reflected for all students in this group.</small>
                </div>
                <div style="margin-bottom: 14px;">
                    <small style="display: block; font-weight: 600; color: #1d1d1f; margin-bottom: 4px;">
                        <i class="fas fa-check-circle me-1" style="color: #34c759;"></i>Deadline Changes
                    </small>
                    <small style="color: #636366; line-height: 1.5;">If you extend the due date, students will see the new deadline immediately.</small>
                </div>
                <div style="margin-bottom: 14px;">
                    <small style="display: block; font-weight: 600; color: #1d1d1f; margin-bottom: 4px;">
                        <i class="fas fa-shield-alt me-1" style="color: #34c759;"></i>Submission Data
                    </small>
                    <small style="color: #636366; line-height: 1.5;">Updating won't affect existing student submissions or grades.</small>
                </div>
            </div>
        </div>

        <div class="alert" style="background: #e3f2fd; border-left: 4px solid #0066ff; border-radius: 10px; color: #0051ba;">
            <small style="font-weight: 600; display: block; margin-bottom: 6px;">
                <i class="fas fa-lightbulb me-1"></i>Pro Tip
            </small>
            <small>Keep your instructions clear and specific. Edit promptly if students report confusion about requirements.</small>
        </div>
    </div>
</div>

@section Scripts {
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
}
