@page
@model SmartCampus.Web.Pages.Schedule.IndexModel
@{
    ViewData["Title"] = "Schedule";
}


<div style="background: linear-gradient(135deg, #5e5ce6 0%, #0066ff 100%); border-radius: 16px; padding: 40px; margin-bottom: 40px; box-shadow: 0 10px 30px rgba(94, 92, 230, 0.2);">
    <div style="position: relative; z-index: 1;">
        <div class="d-flex justify-content-between align-items-center">
            <div>
                <h1 style="font-size: 2.5rem; font-weight: 800; color: white; margin-bottom: 12px; margin: 0 0 12px 0;">
                    <i class="fas fa-calendar-week me-3"></i>Schedule
                </h1>
                <p style="color: rgba(255, 255, 255, 0.9); margin: 0; font-size: 1.05rem;">
                    <i class="fas fa-info-circle me-2"></i>Your class schedule and lessons
                </p>
            </div>
            <div style="background: rgba(255, 255, 255, 0.2); padding: 16px 24px; border-radius: 12px; border: 1px solid rgba(255, 255, 255, 0.3); color: white; font-weight: 600;">
                <i class="fas fa-calendar-alt me-2"></i>@DateTime.Now.ToString("MMM dd, yyyy")
            </div>
        </div>
    </div>
</div>


@if (Model.GroupedLessons != null && Model.GroupedLessons.Any())
{
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap: 24px; margin-bottom: 40px;">
        @foreach (var dayGroup in Model.GroupedLessons)
        {
            <div class="schedule-day-card" style="background: white; border-radius: 14px; box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08); overflow: hidden; transition: all 0.3s;">
                
                <div style="background: linear-gradient(135deg, #5e5ce6, #0066ff); padding: 20px; color: white;">
                    <h3 style="margin: 0 0 6px 0; font-size: 1.2rem; font-weight: 700; display: flex; align-items: center; gap: 8px;">
                        <i class="fas fa-calendar-day"></i>
                        @dayGroup.Key.ToString("dddd")
                    </h3>
                    <p style="margin: 0; font-size: 0.9rem; opacity: 0.9;">
                        @dayGroup.Key.ToString("MMM dd, yyyy")
                    </p>
                </div>

                
                <div style="padding: 20px; display: flex; flex-direction: column; gap: 12px;">
                    @if (dayGroup.Value.Any())
                    {
                        @foreach (var lesson in dayGroup.Value.OrderBy(l => l.LessonDate.TimeOfDay))
                        {
                            <div class="lesson-card" style="background: #f5f5f7; padding: 14px; border-radius: 10px; border-left: 4px solid #5e5ce6; transition: all 0.3s; display: flex; gap: 12px; align-items: flex-start;">
                                
                                <div style="background: linear-gradient(135deg, #5e5ce6, #0066ff); color: white; padding: 8px 12px; border-radius: 8px; text-align: center; min-width: 65px; flex-shrink: 0;">
                                    <div style="font-weight: 700; font-size: 1rem;">@lesson.LessonDate.ToString("HH:mm")</div>
                                </div>

                                
                                <div style="flex: 1; min-width: 0;">
                                    
                                    <h5 style="margin: 0 0 6px 0; font-size: 0.95rem; font-weight: 700; color: #1d1d1f; word-break: break-word;">
                                        @lesson.Title
                                    </h5>

                                    
                                    <div style="display: flex; align-items: center; gap: 6px; margin-bottom: 4px; font-size: 0.85rem; color: #636366;">
                                        <i class="fas fa-book" style="color: #5e5ce6; width: 14px; flex-shrink: 0;"></i>
                                        <span style="font-weight: 600;">@lesson.CourseName</span>
                                    </div>

                                    
                                    <div style="display: flex; align-items: center; gap: 6px; font-size: 0.85rem; color: #636366;">
                                        <i class="fas fa-map-pin" style="color: #ff9500; width: 14px; flex-shrink: 0;"></i>
                                        <span>@lesson.Location</span>
                                    </div>
                                </div>
                            </div>
                        }
                    }
                    else
                    {
                        <div style="padding: 24px 16px; text-align: center; color: #a1a1a6;">
                            <i class="fas fa-calendar-check" style="font-size: 1.8rem; margin-bottom: 8px; display: block; opacity: 0.5;"></i>
                            <p style="margin: 0; font-weight: 600; font-size: 0.9rem;">No classes</p>
                        </div>
                    }
                </div>
            </div>
        }
    </div>
}
else
{
    
    <div style="background: white; border-radius: 14px; padding: 60px 40px; text-align: center; box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);">
        <div style="width: 100px; height: 100px; border-radius: 50%; background: #f5f5f7; display: flex; align-items: center; justify-content: center; margin: 0 auto 20px;">
            <i class="fas fa-calendar-times" style="font-size: 2.5rem; color: #ccc;"></i>
        </div>
        <h2 style="font-size: 1.3rem; font-weight: 700; color: #1d1d1f; margin-bottom: 8px;">
            No Schedule Available
        </h2>
        <p style="color: #a1a1a6; font-size: 0.95rem; margin: 0;">
            There are no lessons scheduled for you at this time.
        </p>
    </div>
}

<style>
    .schedule-day-card {
        animation: slideUpSchedule 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
        opacity: 0;
    }

    .schedule-day-card:nth-child(1) { animation-delay: 0s; }
    .schedule-day-card:nth-child(2) { animation-delay: 0.1s; }
    .schedule-day-card:nth-child(3) { animation-delay: 0.2s; }
    .schedule-day-card:nth-child(4) { animation-delay: 0.3s; }
    .schedule-day-card:nth-child(5) { animation-delay: 0.4s; }
    .schedule-day-card:nth-child(6) { animation-delay: 0.5s; }
    .schedule-day-card:nth-child(7) { animation-delay: 0.6s; }

    .schedule-day-card:hover {
        box-shadow: 0 12px 40px rgba(0, 0, 0, 0.12);
        transform: translateY(-4px);
    }

    @@keyframes slideUpSchedule {
        from {
            opacity: 0;
            transform: translateY(30px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    .lesson-card {
        animation: slideInLeft 0.4s ease-out forwards;
        opacity: 0;
    }

    .lesson-card:nth-child(1) { animation-delay: 0.1s; }
    .lesson-card:nth-child(2) { animation-delay: 0.2s; }
    .lesson-card:nth-child(3) { animation-delay: 0.3s; }
    .lesson-card:nth-child(4) { animation-delay: 0.4s; }
    .lesson-card:nth-child(5) { animation-delay: 0.5s; }

    @@keyframes slideInLeft {
        from {
            opacity: 0;
            transform: translateX(-10px);
        }
        to {
            opacity: 1;
            transform: translateX(0);
        }
    }

    .lesson-card:hover {
        background: white;
        box-shadow: 0 4px 12px rgba(94, 92, 230, 0.1);
        transform: translateY(-2px);
    }

    @@media (max-width: 768px) {
        div[style*="grid-template-columns: repeat(auto-fit"] {
            grid-template-columns: 1fr !important;
        }
    }
</style>
